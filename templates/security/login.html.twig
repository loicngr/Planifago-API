{% extends 'front/layout.html.twig' %}

{% block title %}{{ 'Log in !' | trans }}{% endblock %}

{% block body %}
    {% embed 'front/elements/section.html.twig' %}
        {% block section_header_intro %}{% endblock %}
        {% block section_header_title_text %}{{ 'Log in !' | trans }}{% endblock %}
        {% block section_content %}
            <div class="col-6">
                <form method="post">

                    {% if error %}
                        <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                    {% endif %}

                    {% if app.user %}
                        <div class="mb-3">
                            {{ 'You are logged in as %s' | format(app.user.username) }}, <a href="{{ path('app_logout') }}">{{ 'Logout' | trans }}</a>
                        </div>
                    {% endif %}

                    <label for="inputEmail">{{ 'Email' | trans }}</label>
                    <input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control" required autofocus>

                    <label for="inputPassword">{{ 'Password' | trans }}</label>
                    <input type="password" name="password" id="inputPassword" class="form-control" required>

                    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

                    <div class="checkbox mb-3">
                        <label><input type="checkbox" name="_remember_me"> {{ 'Remember me' | trans }}</label>
                    </div>

                    <button class="btn btn-lg btn-primary" type="submit">{{ 'Sign in' | trans }}</button>

                </form>
            </div>
        {% endblock %}
    {% endembed %}
{% endblock %}
